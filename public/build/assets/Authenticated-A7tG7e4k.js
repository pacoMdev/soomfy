import{u as D,a as q,r as C,o as j,w as O,b as $,d as w,e as i,f as u,h as s,t as h,i as f,n as b,j as k,k as A,l as F,F as M,m as E,v as H,T as U,p as L,q as x,s as N,x as T,S as V}from"./app-DhgeM_ro.js";import{u as P,A as W,s as z,_ as G}from"./AppFooter-B7iA80IN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={key:0},Q={key:0,class:"layout-menuitem-root-text"},X=["href","target"],Y={class:"layout-menuitem-text"},Z={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},ee={class:"layout-menuitem-text"},te={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},ae={class:"layout-submenu"},ie={__name:"AppMenuItem",props:{item:{type:Object,default:()=>({})},index:{type:Number,default:0},root:{type:Boolean,default:!0},parentItemKey:{type:String,default:null}},setup(e){const{can:y}=D(),_=q(),{layoutConfig:S,layoutState:c,setActiveMenuItem:d,onMenuToggle:g}=P(),n=e,o=C(!1),m=C(null);j(()=>{m.value=n.parentItemKey?n.parentItemKey+"-"+n.index:String(n.index);const t=c.activeMenuItem;o.value=t===m.value||t?t.startsWith(m.value+"-"):!1}),O(()=>S.activeMenuItem.value,t=>{o.value=t===m.value||t.startsWith(m.value+"-")});const I=(t,l)=>{if(l.disabled){t.preventDefault();return}const{overlayMenuActive:r,staticMenuMobileActive:v}=c;(l.to||l.url)&&(v.value||r.value)&&g(),l.command&&l.command({originalEvent:t,item:l});const a=l.items?o.value?n.parentItemKey:m:m.value;d(a)},B=t=>_.path===t.to;return(t,l)=>{const r=$("router-link"),v=$("app-menu-item",!0);return e.root||e.item.permision==="all"||w(y)(e.item.permision)?(i(),u("div",J,[s("li",{class:b({"layout-root-menuitem":e.root,"active-menuitem":o.value})},[e.root&&e.item.visible!==!1?(i(),u("div",Q,h(e.item.label),1)):f("",!0),(!e.item.to||e.item.items)&&e.item.visible!==!1?(i(),u("a",{key:1,href:e.item.url,onClick:l[0]||(l[0]=a=>I(a,e.item,e.index)),class:b(e.item.class),target:e.item.target,tabindex:"0"},[s("i",{class:b([e.item.icon,"layout-menuitem-icon"])},null,2),s("span",Y,h(e.item.label),1),e.item.items?(i(),u("i",Z)):f("",!0)],10,X)):f("",!0),e.item.to&&!e.item.items&&e.item.visible!==!1?(i(),k(r,{key:2,onClick:l[1]||(l[1]=a=>I(a,e.item,e.index)),class:b([e.item.class,{"active-route":B(e.item)}]),tabindex:"0",to:e.item.to},{default:A(()=>[s("i",{class:b([e.item.icon,"layout-menuitem-icon"])},null,2),s("span",ee,h(e.item.label),1),e.item.items?(i(),u("i",te)):f("",!0)]),_:1},8,["class","to"])):f("",!0),e.item.items&&e.item.visible!==!1?(i(),k(U,{key:3,name:"layout-submenu"},{default:A(()=>[F(s("ul",ae,[(i(!0),u(M,null,E(e.item.items,(a,p)=>(i(),k(v,{key:a,index:p,item:a,parentItemKey:m.value,root:!1},null,8,["index","item","parentItemKey"]))),128))],512),[[H,e.root?!0:o.value]])]),_:1})):f("",!0)],2)])):f("",!0)}}},se={class:"relative overflow-hidden w-full p-link flex align-items-center p-2 pl-0 text-color hover:surface-200 border-noround"},le={class:"inline-flex flex-column"},ne={class:"font-bold"},oe={class:"text-sm mr-2"},ue={class:"layout-menu"},re={key:1,class:"menu-separator"},ce={__name:"AppMenu",setup(e){D(),L();const y=C([{label:"Home",permision:"all",items:[{label:"Dashboard",icon:"pi pi-fw pi-home",to:"/admin",permision:"all"}]},{label:"Usuarios",items:[{label:"Users",icon:"pi pi-fw pi-id-card",to:"/admin/users",permision:"user-list"},{label:"Roles",icon:"pi pi-fw pi-check-square",to:"/admin/roles",permision:"role-list"},{label:"Permisos",icon:"pi pi-fw pi-bookmark",to:"/admin/permissions",permision:"permission-list"}]},{label:"Posts",items:[{label:"Posts",icon:"pi pi-fw pi-id-card",to:"/admin/productos",permision:"product-list"},{label:"Categorias",icon:"pi pi-fw pi-id-card",to:"/admin/categories",permision:"category-list"}]}]);return(_,S)=>{var d,g,n;const c=$("Avatar");return i(),u(M,null,[s("button",se,[x(c,{image:(d=w(L)().user)==null?void 0:d.avatar,class:"mr-3",shape:"circle"},null,8,["image"]),s("span",le,[s("span",ne,h((g=w(L)().user)==null?void 0:g.name),1),s("span",null,[(i(!0),u(M,null,E((n=w(L)().user)==null?void 0:n.roles,o=>(i(),u("span",oe,h(o.name),1))),256))])])]),s("ul",ue,[(i(!0),u(M,null,E(y.value,(o,m)=>(i(),u(M,{key:o},[o.separator?f("",!0):(i(),k(ie,{key:0,item:o,index:m},null,8,["item","index"])),o.separator?(i(),u("li",re)):f("",!0)],64))),128))])],64)}}},me={__name:"AppSidebar",setup(e){return(y,_)=>(i(),k(ce))}},de={class:"layout-sidebar"},ve={class:"layout-main-container"},fe={class:"card mb-2 bread"},ye=["href","onClick"],pe={class:"text-primary font-semibold"},be=["href","target"],he={class:"text-color"},ke={class:"layout-main"},Me={__name:"Authenticated",setup(e){const y=q(),_=C({icon:"pi pi-home",route:"/admin"}),S=N(()=>{let t=y.path.split("/");return t.shift(),t.reduce((r,v,a)=>{var p,K;return r.push({route:r[a-1]?""+r[a-1].route+"/"+v:"/"+v,label:((p=y.matched[a])==null?void 0:p.meta.breadCrumb)||v,disabled:a+1===t.length||((K=y.matched[a])==null?void 0:K.meta.linked)===!1}),r},[])}),{layoutConfig:c,layoutState:d,isSidebarActive:g}=P(),n=C(null);O(g,t=>{t?m():I()});const o=N(()=>({"layout-theme-light":c.darkTheme.value==="light","layout-theme-dark":c.darkTheme.value==="dark","layout-overlay":c.menuMode.value==="overlay","layout-static":c.menuMode.value==="static","layout-static-inactive":d.staticMenuDesktopInactive.value&&c.menuMode.value==="static","layout-overlay-active":d.overlayMenuActive.value,"layout-mobile-active":d.staticMenuMobileActive.value,"p-input-filled":c.inputStyle.value==="filled","p-ripple-disabled":!c.ripple.value})),m=()=>{n.value||(n.value=t=>{B(t)&&(d.overlayMenuActive.value=!1,d.staticMenuMobileActive.value=!1,d.menuHoverActive.value=!1)},document.addEventListener("click",n.value))},I=()=>{n.value&&(document.removeEventListener("click",n),n.value=null)},B=t=>{const l=document.querySelector(".layout-sidebar"),r=document.querySelector(".layout-menu-button");return!(l.isSameNode(t.target)||l.contains(t.target)||r.isSameNode(t.target)||r.contains(t.target))};return(t,l)=>{const r=$("router-link"),v=$("router-view");return i(),u("div",{class:b(["layout-wrapper",o.value])},[x(W),s("div",de,[x(me)]),s("div",ve,[s("div",fe,[x(w(z),{home:_.value,model:S.value},{item:A(({item:a,props:p})=>[a.route?(i(),k(r,{key:0,to:a.route,custom:""},{default:A(({href:K,navigate:R})=>[s("a",T({href:K},p.action,{class:"btn btn-link",onClick:R}),[s("span",{class:b([a.icon,"text-color"])},null,2),s("span",pe,h(a.label),1)],16,ye)]),_:2},1032,["to"])):(i(),u("a",T({key:1,href:a.url,target:a.target},p.action),[s("span",he,h(a.label),1)],16,be))]),_:1},8,["home","model"])]),s("div",ke,[(i(),k(V,null,{default:A(()=>[x(v)]),_:1}))]),x(G)]),l[0]||(l[0]=s("div",{class:"layout-mask"},null,-1))],2)}}};export{Me as default};
