import{E as T,M as S,O as N,e as a,f as l,I as m,t as n,h as t,l as _,N as U,d as i,F as u,m as v,q as x,v as y,L as R,a as A,b as I}from"./app-DhgeM_ro.js";import{u as O}from"./categories-C42Kb0_B.js";import{u as Z}from"./posts-CvFzbr78.js";import{d as L,u as j,a as p,r as G,m as J}from"./rules-DQeMV_B6.js";import{D as K}from"./DropZone-CBEveo7L.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"row my-5"},W={class:"col-md-8"},X={class:"card border-0 shadow-sm"},Y={class:"card-body"},$={class:"mb-3"},tt={class:"text-danger mt-1"},et={class:"text-danger mt-1"},st={class:"mb-3"},ot={class:"text-danger mt-1"},at={class:"text-danger mt-1"},lt={class:"col-md-4"},it={class:"card border-0 shadow-sm"},nt={class:"card-body"},rt={class:"mt-3 text-center"},dt=["disabled"],ut={class:""},ct={key:0},mt={key:1},vt=["disabled"],ht={class:""},_t={key:0},pt={key:1},bt={class:"mb-3"},gt={class:"text-danger mt-1"},wt={class:"text-danger mt-1"},ft={class:"mb-3"},Vt={class:"text-danger mt-1"},Bt={__name:"Edit",setup(xt){L("required",G),L("min",J);const C={title:"required|min:5",content:"required|min:50",categories:"required"},{validate:M,errors:h,resetForm:yt}=j({validationSchema:C}),{value:q}=p("title",null,{initialValue:""}),{value:z}=p("content",null,{initialValue:""}),{value:E}=p("categories",null,{initialValue:"",label:"category"}),{categoryList:Lt,getCategoryList:k}=O(),{post:d,getPost:B,updatePost:D,validationErrors:c,isLoading:r}=Z(),s=T({title:q,content:z,categories:E,thumbnail:""}),F=A();function H(){M().then(b=>{b.valid&&D(s)})}return S(()=>{B(F.params.id),k()}),N(()=>{s.id=d.value.id,s.title=d.value.title,s.content=d.value.content,s.thumbnail=d.value.original_image,s.categories=d.value.categories}),(b,e)=>{var g,w,f,V;const P=I("TextEditorComponent");return a(),l(u,null,[m(n(s)+" ",1),t("form",{onSubmit:R(H,["prevent"])},[t("div",Q,[t("div",W,[t("div",X,[t("div",Y,[t("div",$,[e[3]||(e[3]=t("label",{for:"post-title",class:"form-label"}," Title ",-1)),_(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.title=o),id:"post-title",type:"text",class:"form-control"},null,512),[[U,s.title]]),t("div",tt,n(i(h).title),1),t("div",et,[(a(!0),l(u,null,v((g=i(c))==null?void 0:g.title,o=>(a(),l("div",null,n(o),1))),256))])]),t("div",st,[e[4]||(e[4]=t("label",{for:"post-content",class:"form-label"}," Content ",-1)),x(P,{modelValue:s.content,"onUpdate:modelValue":e[1]||(e[1]=o=>s.content=o)},null,8,["modelValue"]),t("div",ot,n(i(h).content),1),t("div",at,[(a(!0),l(u,null,v((w=i(c))==null?void 0:w.content,o=>(a(),l("div",null,n(o),1))),256))])])])])]),t("div",lt,[t("div",it,[t("div",nt,[e[6]||(e[6]=t("h6",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),m(" Action ")],-1)),t("div",rt,[t("button",{disabled:i(r),class:"btn btn btn-outline-primary me-2"},[_(t("div",ut,null,512),[[y,i(r)]]),i(r)?(a(),l("span",ct,"Processing...")):(a(),l("span",mt,"Save Draft"))],8,dt),t("button",{disabled:i(r),class:"btn btn-primary"},[_(t("div",ht,null,512),[[y,i(r)]]),i(r)?(a(),l("span",_t,"Processing...")):(a(),l("span",pt,"Publish"))],8,vt)]),e[7]||(e[7]=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),m(" Category ")],-1)),t("div",bt,[t("div",gt,n(i(h).categories),1),t("div",wt,[(a(!0),l(u,null,v((f=i(c))==null?void 0:f.categories,o=>(a(),l("div",null,n(o),1))),256))])]),t("div",ft,[e[5]||(e[5]=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),m(" Thumbnail ")],-1)),x(K,{modelValue:s.thumbnail,"onUpdate:modelValue":e[2]||(e[2]=o=>s.thumbnail=o)},null,8,["modelValue"]),t("div",Vt,[(a(!0),l(u,null,v((V=i(c))==null?void 0:V.thumbnail,o=>(a(),l("div",null,n(o),1))),256))])])])])])])],32)],64)}}};export{Bt as default};
